Crypto - Machine Learning


Hetzner server SSH key
-----BEGIN OPENSSH PRIVATE KEY-----b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtzc2gtZWQyNTUxOQAAACCgKpg75l42bl6nqPGB19mhr3u/FvLqpVM+F6h83KfQngAAAKA5gORcOYDkXAAAAAtzc2gtZWQyNTUxOQAAACCgKpg75l42bl6nqPGB19mhr3u/FvLqpVM+F6h83KfQngAAAECVjT6ZU1OJy2CpOaaBDrABKwO/XHGsxASibDLcrTBy+qAqmDvmXjZuXqeo8YHX2aGve78W8uqlUz4XqHzcp9CeAAAAHWJpbmFuY2UtZnV0dXJlcy10b29sLTIwMjUwNjAx-----END OPENSSH PRIVATE KEY-----

Github https://github.com/Global-Digital-Assets/Crypto-Machine-Learning

Github token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


ğŸ”‘ VPS ACCESS

bash
CopyInsert
# Production VPS (Hetzner, 8-core, 16 GB)
ssh -i ~/.ssh/binance_futures_tool root@37.27.200.41
(The old 78.47.150.122 box is now decommissioned.)

ğŸ“‚ KEY FOLDERS ON VPS


CopyInsert
/root/
 â”œâ”€ ml-engine/             â† production ML code (source of truth)
 â”œâ”€ data-service/          â† market-data API & DB
 â”œâ”€ analytics-api/         â† REST + Prom-metrics
 â”œâ”€ futures-bot/           â† live trading bot
 â””â”€ scripts/               â† watchdog_wrapper.sh etc.
Local working folder (Mac):
~/Desktop/Business/CRYPTO - MACHINE LEARNING


ğŸ—„ï¸ ML-ENGINE STRUCTURE


CopyInsert
ml-engine/
â”œâ”€ generate_daily_signals.py   # 15-min inference
â”œâ”€ continuous_learner.py       # nightly incremental retrain
â”œâ”€ ml_monitoring.py            # hourly drift probe (oneshot, timer)
â”œâ”€ feature_engineering.py
â”œâ”€ models/
â”‚   â”œâ”€ lgbm_emergency_20250609_174124.txt
â”‚   â””â”€ latest_model.txt  â†’ symlink â†‘
â”œâ”€ signals/
â”‚   â”œâ”€ latest_probs.json
â”‚   â””â”€ latest_signals.json
â”œâ”€ bucket_mapping.csv   â†’ symlink to analytics-tool-v2 copy (100 symbols)
â””â”€ requirements.txt

ğŸ“¦ PYTHON REQUIREMENTS (pinned)


CopyInsert
lightgbm==4.6.0
polars==1.8.2
pandas==1.5.3
scikit-learn==1.3.2
aiohttp==3.10.11

ğŸ› ï¸ SYSTEMD UNITS (/etc/systemd/system/)
| Unit / Timer | ExecStart (WorkingDir =Â 
/root/ml-engine) | Schedule | Notes | |--------------|--------------------------------------------|----------|-------| |Â ml-generator.serviceÂ |Â venv/bin/python generate_daily_signals.py --model models/latest_model.txt --data-api-url http://localhost:8001 --buckets ultra --min-proba 0.25 --percentile 99Â | every 15 min (ml-generator.timer) | light inference | |Â ml-learner.serviceÂ |Â venv/bin/python continuous_learner.pyÂ | 02:30 UTC daily (ml-learner.timer) | incremental retrain | |Â ml-monitor.serviceÂ |Â venv/bin/python ml_monitoring.pyÂ | hourly (ml-monitor.timer) | drift & Prom metrics | |Â data-api.serviceÂ |Â uvicorn api:app --host 0.0.0.0 --port 8001 --workers 4Â | always | exposes candle DB | |Â analytics-api.serviceÂ |Â uvicorn app:app --host 0.0.0.0 --port 8080 --workers 4Â | always | signals dashboard | |Â data-streamer.serviceÂ |Â python streamer.pyÂ | always | Binance WS feed | |Â futures-metrics.serviceÂ |Â python futures_metrics_streamer.pyÂ | always | order-book metrics | |Â futures-bot.serviceÂ |Â python -m bot.mainÂ | always | live trading | | Watchdog |Â Type=notify,Â WatchdogSec=300, wrapper heartbeat | all long-running units |


Environment=Â (set per-unit or drop-in)



CopyInsert
OMP_NUM_THREADS=8
MKL_NUM_THREADS=8
OPENBLAS_NUM_THREADS=8
DATA_API_URL=http://localhost:8001
Ports 8001 & 8080 are allowed in UFW for internal/external health probes (no StatusCake).

ğŸ”¢ DATA ENDPOINTS (read-only)


CopyInsert
/candles/{symbol}/15m
/oi/{symbol}/5m
/funding/{symbol}
/orderbook/{symbol}
macro/latest

ğŸ§® FEATURE SET (feature_engineering.py)
RSI-14, momentum, Bollinger width, ATR, volatility Z-scores, order-book imbalance (5-snap mean), Î” OI (5 m & 1 h), funding-rate Z-score, macro risk-on flag (VIX & DXY).

ğŸ“¤ OUTPUTS


CopyInsert
signals/latest_probs.json     # symbol â†’ probability
signals/latest_signals.json   # filtered LONG / SHORT trades

ğŸ‘· DEVELOPER WORKFLOW (LOCAL)

bash
CopyInsert
# 1) sync code from VPS
scp -i ~/.ssh/binance_futures_tool -r \
    root@37.27.200.41:/root/ml-engine               "./CRYPTO - MACHINE LEARNING"
scp -i ~/.ssh/binance_futures_tool \
    root@37.27.200.41:/root/analytics-tool-v2/bucket_mapping.csv \
    "./CRYPTO - MACHINE LEARNING/"

# 2) create venv & install
cd "./CRYPTO - MACHINE LEARNING"
python3 -m venv venv && source venv/bin/activate
pip install -r requirements.txt

# 3) local test run
export DATA_API_URL=http://localhost:8001
python generate_daily_signals.py --quiet
jq '.' signals/latest_signals.json | head

âš™ï¸ MIGRATION / DEPLOY STEPS (reference)


CopyInsert
1. Ensure /root/ml-engine exists.
2. ln -s /root/analytics-tool-v2/bucket_mapping.csv /root/ml-engine/
3. pip install -r requirements.txt  (shared venv per service)
4. systemctl daemon-reload &&
   systemctl enable --now ml-generator.timer ml-learner.timer ml-monitor.timer

âœ”ï¸ QUICK SMOKE TEST

bash
CopyInsert
cd /root/ml-engine
DATA_API_URL=http://localhost:8001 \
venv/bin/python generate_daily_signals.py --quiet
cat signals/latest_signals.json | jq .
curl -s localhost:9101/metrics | grep ml_drift

ğŸ”— GITHUB MIRROR
* Repo:Â https://github.com/Global-Digital-Assets/Crypto-Machine-Learning
* Typical first-time push:

bash
CopyInsert
git init
git add .
git commit -m "initial ML-engine dump from production"
git remote add origin https://github.com/Global-Digital-Assets/Crypto-Machine-Learning.git
git push -u origin main
# Personal Access Token stored in Git cred-helper.
You have my explicit approval to create, write, edit, read, save, move, delete, change any code or files on the hetzner server or my MacBook. 

